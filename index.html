<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <title>家乡地图 | 马杰成 | 通信与计算机网络第3周API作业</title>
    <link rel="stylesheet" href="demo-center.css"/>
    <style>
        html, body, #container {
            height: 100%;
            width: 100%;
        }
        a{text-decoration:none} 
        a:hover{text-decoration:underline}
        p{letter-spacing:3px}
    </style>
</head>

<body>
<div id="container" 
        style=
        "width: 70vw; 
        height: 50vw;
        top: 1vw;
        display: table; 
        margin: 0 auto; 
        border-radius: .5rem;
        box-shadow: 0 0 6px 0 rgba(2, 17, 34, 0.829);">
</div>

<div class="info" style="font-size:0.8vw;color:#666666;letter-spacing:1px">
    通信与计算机网络第 3 周 API 作业 | 马杰成 3190102614 信息管理与信息系统 1901</div>
<p style="margin: 2vw auto;font-size:0.8vw; text-align:center; color:#818181">▲点击地图上的点标记</p></div>

<div> <h1 style="font-size:4vw; display: table; margin: 3vw auto;letter-spacing:5px">浙江温州</h1></div>
<div style="display: table; margin: 2vw auto; color:#86868b"> 
    <p style="font-size:1.5vw; text-align:center">简称“温”或“瓯”，别名“鹿城”</p>
    <p style="font-size:1.5vw; text-align:center">因传说筑城时，有白鹿衔花而过</p>
    <p style="font-size:1.5vw; text-align:center">素有“东南山水甲天下”之美誉</p>
    <p style="font-size:1.5vw; text-align:center">是中国民营经济发展的先发地区与改革开放的前沿阵地</p></div>
<div style='font-size:1.5vw; display: table; margin: 1vw auto;letter-spacing:3px'>
    <a  style='color:#0066cc' href='https://baike.baidu.com/item/%E6%B8%A9%E5%B7%9E/212091' target='_blank'>百度百科></a> &nbsp;
    <a  style='color:#0066cc' href='https://zh.wikipedia.org/wiki/%E6%B8%A9%E5%B7%9E%E5%B8%82' target='_blank'>维基百科></a> &nbsp;
    <a  style='color:#0066cc' href='https://www.cc98.org/board/479' target='_blank'>CC98></a></div>
    <p style="margin: 2vw auto;font-size:0.8vw; text-align:center; color:#818181">▼温州五马步行街</p></div>
<div><img src='WumaStreet.jpg'  style="width:70vw; display: table; margin: 0vw auto;"></div>

<script type="text/javascript"
        src="https://webapi.amap.com/maps?v=1.4.15&key=90960782b5de6c9fe4cb5487a10c2f63"></script>
<script type="text/javascript">    //地图初始化时，在地图上添加一个marker标记,鼠标点击marker可弹出自定义的信息窗体
var map = new AMap.Map("container", {
    pitch:75,
    viewMode:'3D',
    resizeEnable: true,
    center: [120.699, 27.993],
    zoom: 11
});
addMarker();

//添加marker标记
function addMarker() {
    map.clearMap();
    var marker = new AMap.Marker({
        map: map,
        position: [120.699, 27.993]
    });
    //鼠标点击marker弹出自定义的信息窗体
    AMap.event.addListener(marker, 'click', function () {
        infoWindow.open(map, marker.getPosition());
    });
}

//实例化信息窗体
var title = '浙江温州<span style="font-size:12px;color:#666666;letter-spacing:1px">金瓯白鹿城</span>',
    content = [];
content.push("<img src='WumaStreet.jpg'  width=100><span style='text-align:justify; text-justify:inter-ideograph;letter-spacing:1px'>温州市，简称“温”或“瓯”，别称“鹿城”，素有“东南山水甲天下”之美誉，是中国民营经济发展的先发地区与改革开放的前沿阵地。</span>");
content.push("<a href='https://baike.baidu.com/item/%E6%B8%A9%E5%B7%9E/212091' target='_blank'>百度百科</a> <a  href='https://zh.wikipedia.org/wiki/%E6%B8%A9%E5%B7%9E%E5%B8%82' target='_blank'>维基百科</a>");
var infoWindow = new AMap.InfoWindow({
    isCustom: true,  //使用自定义窗体
    content: createInfoWindow(title, content.join("<br/>")),
    offset: new AMap.Pixel(16, -45)
});

//构建自定义信息窗体
function createInfoWindow(title, content) {
    var info = document.createElement("div");
    info.className = "custom-info input-card content-window-card";

    //顶部标题
    var top = document.createElement("div");
    var titleD = document.createElement("div");
    var closeX = document.createElement("img");
    top.className = "info-top";
    titleD.innerHTML = title;
    closeX.src = "https://webapi.amap.com/images/close2.gif";
    closeX.onclick = closeInfoWindow;

    top.appendChild(titleD);
    top.appendChild(closeX);
    info.appendChild(top);

    //中部内容
    var middle = document.createElement("div");
    middle.className = "info-middle";
    middle.style.backgroundColor = 'white';
    middle.innerHTML = content;
    info.appendChild(middle);

    //底部内容
    var bottom = document.createElement("div");
    bottom.className = "info-bottom";
    bottom.style.position = 'relative';
    bottom.style.top = '0px';
    bottom.style.margin = '0 auto';
    var sharp = document.createElement("img");
    sharp.src = "https://webapi.amap.com/images/sharp.png";
    bottom.appendChild(sharp);
    info.appendChild(bottom);
    return info;
}

//关闭信息窗体
function closeInfoWindow() {
    map.clearInfoWindow();
}
</script>
</body>

</html>
